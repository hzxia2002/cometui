<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title></title>
    <link href="../../../js/jui/skins/Aqua/css/jui-all.css" rel="stylesheet" type="text/css"/>
    <script src="../../../js/jquery/jquery-1.7.2.js" type="text/javascript"></script>
    <!--<script src="../../../js/jui/js/core/base.js" type="text/javascript"></script>-->
    <!--<script src="../../../js/jui/js/plugins/juiceGrid.js" type="text/javascript"></script>-->
    <!--<script src="../../../js/jui/js/plugins/juiceMenu.js" type="text/javascript"></script>-->
    <script src="../../../js/jui/js/jui-all.js" type="text/javascript"></script>
    <script src="../CustomersData.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            $.jui.parse();
            $.jui.get("maingrid4");
//            $("#maingrid4").juiceGrid({
//                columns: [
//                { display: '主键', name: 'CustomerID', align: 'left', width: 120 },
//                { display: '公司名', name: 'CompanyName', minWidth: 60 },
//                { display: '联系名', name: 'ContactName', width: 50, align: 'left' },
//                { display: '城市', name: 'City' }
//                ],  data: CustomersData,

//                height: '100%',
//                groupColumnName: 'City',
//                groupRender: function (city,groupdata)
//                {
//                    return '城市 ' + city + '(Count=' + groupdata.length + ')';
//                }
//            });
            $("#pageloading").hide();
        });

        function groupRender(city, groupdata) {
            return '城市 ' + city + '(Count=' + groupdata.length + ')';
        }

        var companyRender = function (city, groupdata) {
            return '公司 ' + city + '(Count=' + groupdata.length + ')';
        }

        var cityRender = function (city, groupdata) {
            return '城市 ' + city + '(Count=' + groupdata.length + ')';
        }

        var changeGroupColumn = function () {
            var grid = $.jui.get("maingrid4");

            grid.set("groupColumnName", "CompanyName");
            grid.set("groupRender", companyRender);
            grid.reRender();
        }

        var changeGroupColumn2 = function () {
            var grid = $.jui.get("maingrid4");

            grid.set("groupColumnName", "City");
            grid.set("groupRender", cityRender);
            grid.reRender();
        }
    </script>
</head>
<body style="padding:6px; overflow:hidden;">
<div class="l-loading" style="display:block" id="pageloading"></div>
<div id="maingrid4" style="margin:0; padding:0" data="CustomersData" pageSize="20" height="90%" groupColumnName="City"
     groupRender="groupRender" class="jui-grid">
    <div elementType="columns">
        <div display="主键" name="CustomerID" width="120" align="left"></div>
        <div display="公司名" name="CompanyName" minWidth="60"></div>
        <div display="联系名" name="ContactName" width="75" align="center"></div>
        <div display="城市" name="City" width="75"></div>
    </div>
</div>
<a class="l-button" style="width:140px;float:left; margin-left:10px;" onclick="changeGroupColumn()">按公司分组</a>
<a class="l-button" style="width:140px;float:left; margin-left:10px;" onclick="changeGroupColumn2()">按城市分组</a>
</body>
</html>