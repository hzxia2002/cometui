<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title></title>
    <link href="../../../js/jui/skins/Aqua/css/jui-all.css" rel="stylesheet" type="text/css" />
    <script src="../../../js/jquery/jquery-1.7.2.js" type="text/javascript"></script>
    <!--<script src="../../../js/jui/js/core/base.js" type="text/javascript"></script>-->
    <!--<script src="../../../js/jui/js/plugins/juiceGrid.js" type="text/javascript"></script>-->
    <!--<script src="../../../js/jui/js/plugins/juiceDialog.js" type="text/javascript"></script>-->
    <!--<script src="../../../js/jui/js/plugins/juiceMenu.js" type="text/javascript"></script>-->
    <script src="../../../js/jui/js/jui-all.js" type="text/javascript"></script>
    <script src="../CustomersData.js" type="text/javascript"></script>
    <script type="text/javascript">
        var grid;
        $(function ()
        {
            $.jui.parse();
            grid = $.jui.get("maingrid4");
//            grid = $("#maingrid4").juiceGrid({
//                columns: [
//                { display: '主键', name: 'CustomerID', align: 'left', width: 120 },
//                { display: '公司名', name: 'CompanyName', minWidth: 60 },
//                { display: '联系名', name: 'ContactName', width: 50, align: 'left' },
//                { display: '联系名', name: 'ContactName', minWidth: 140 },
//                { display: '联系名', name: 'ContactName', minWidth: 140 },
//                { display: '联系名', name: 'ContactName', minWidth: 140 },
//                { display: '联系名', name: 'ContactName', minWidth: 140 },
//                { display: '城市', name: 'City' }
//                ],
//                dataAction: 'server',
//                pageSize: 30,data: CustomersData,  checkbox: true,
//                sortName: 'CustomerID',
//                width: '100%', height: '100%',
//                onCheckRow: function (checked, data, rowindex, rowobj)
//                {
//                    checked && $.juiceDialog.alert('选择的是' + data.CustomerID);
//                },
//                onBeforeCheckRow: function (checked, data, rowindex, rowobj)
//                {
//                    if (data.CustomerID == "ANTON")
//                        return false;
//                    return true;
//                }
//            });
        });

        function onCheckRow(checked, data, rowindex, rowobj)
        {
            checked && $.juiceDialog.alert('选择的是' + data.CustomerID);
        }

        function onBeforeCheckRow(checked, data, rowindex, rowobj)
        {
            if (data.CustomerID == "ANTON")
                return false;
            return true;
        }
        function getCheckedData()
        {
            var rows = grid.getCheckedRows();
            var str = "";
            $(rows).each(function ()
            {
                str += this.CustomerID + ",";
            });
            alert('选择的是' + str);
        }
    </script>
</head>
<body style="padding:6px; overflow:hidden;"> 
  <form>
  <div>
  
    <a class="l-button" onclick="getCheckedData()">Get Checked Data</a>
    1,选择行事件
    2,选择行前事件(例子中不允许选择ANTON)
    </div>
    <div id="maingrid4" style="margin:0; padding:0" pageSize="30" data="CustomersData" checkbox="true" dataAction="server"
         sortName="CustomerID" width="100%" height="100%" onCheckRow="onCheckRow" onBeforeCheckRow="onBeforeCheckRow" class="jui-grid">
         <div elementType="columns">
            <div  display="主键"  name="CustomerID" align="left" width="120"></div>
            <div  display="公司名"  name="CompanyName" minWidth="60"></div>
            <div  display="联系名"  name="ContactName" align="center" width="50"></div>
            <div  display="城市"  name="City"></div>
         </div>
    </div>
  </form>

  <div style="display:none;">
  
</div>
 
</body>
</html>
